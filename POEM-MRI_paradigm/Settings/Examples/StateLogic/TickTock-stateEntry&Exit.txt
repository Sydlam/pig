fkey_Cmd 12 { stateEngine Toggle; midiNote 9 6 4 ; stimulus_LoadImageFile "BlankGrayImage.bmp" ; midiNote 6 6 4 }
//
// The above, assigning a command to an fkey, is done immediatly, 
// but the execution of that command assigned to the fkey command is deferred until the fkey is pressed.
//
stateSpaceInit
//
stateMode	1
 stateLabel		"State #1"
 stateEntryCommand	{ say "tick 1 entry"; stimulus_LoadImageFile "BlankGrayImage.bmp" ; midiNote 5 6 4 }
 stateExitCommand	{ say "tock 1 exit";  stimulus_LoadImageFile "BlankGrayImage.bmp" ; midiNote 5 6 4 }
 stateKeyPress	t 2
//
stateMode	2
 stateLabel		"State #2"
 stateEntryCommand	{ say "tick 2 entry"; stimulus_LoadImageFile "FixationSpotImage.bmp" ; midiNote 4 6 4 }
 stateExitCommand	{ say "tock 2 exit";  stimulus_LoadImageFile "FixationSpotImage.bmp" ; midiNote 4 6 4 }
 stateKeyPress	t 1
//
//
stateDump		// Prints all the state information into the History window.
stateEngine On
stateJump 1		// Move from the "idle" state #0 to one of the tick/tock states.
setWindow keypad show	// The Keypad window must have focus, so that pressing the 't' key does something.
penplot +seconds 	// This shows Seconds and Markers
say "Press the 't' key to tick/tock between two states."
say "Note: the Keypad window must have focus to use the keyboard keys."
//
END
